!function(){"use strict";var e=window.disqus_config;window.disqus_config=function(){if(e)try{e.call(this)}catch(e){console.error("There was a problem with the Disqus configuration.",e)}this.server_side={bin:"embed:promoted_discovery:dynamic:network_default:fallthrough",service:"dynamic",bottom_placement_url:"",variant:"fallthrough",forum_id:"5400991",inthread_leading_comment_count:"",sandbox_ads:"1",inthread_show_after_comment:"3",inthread_repeat_comment_count:"",experiment:"network_default",home_discovery_enabled:"",inthread_placement_url:"",top_placement_url:"",inthread_multiple_ads:"",can_disable_ads:"",inthread_minimum_comment_count:"4",inthread_trailing_comment_count:"",is_private:"",t:"1545190729"}}}(),function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o,s,a,l,c,u,d,h,f,m,g,p,v,y,w,b,_,S,C,E,x,T,A,I,O,L,N,H,k,P,D,R,V,M,U,B,q,j,F,W,G,Y,z,K,$,J,Q,X,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,de,he,fe,me,ge,pe,ve,ye,we,be,_e,Se,Ce,Ee,xe,Te,Ae,Ie,Oe,Le,Ne,He,ke,Pe,De,Re,Ve,Me,Ue,Be,qe,je,Fe,We,Ge,Ye,ze,Ke,$e,Je,Qe,Xe,Ze,et,tt,nt,it,rt,ot,st,at,lt,ct,ut,dt,ht,ft,mt,gt,pt,vt,yt,wt,bt,_t,St,Ct,Et,xt,Tt,At,It,Ot,Lt,Nt,Ht,kt,Pt,Dt,Rt,Vt,Mt,Ut,Bt,qt,jt,Ft,Wt,Gt,Yt,zt,Kt,$t,Jt={},Qt={},Xt={},Zt={},en={},tn={},nn={},rn={},on={};$t=r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Kt=o=function(e,t){var n=e.length,i=Array.prototype.forEach;if(isNaN(n))for(var r in e)$t(e,r)&&t(e[r],r,e);else if(i)i.call(e,t);else for(var o=0;o<n;o++)t(e[o],o,e)},zt=Jt=function(e){var n=[];return Kt(e,function(e,i){e!==t&&n.push(encodeURIComponent(i)+(null===e?"":"="+encodeURIComponent(e)))}),n.join("&")},Wt=Qt=function e(t,n,i){if(n&&(-1===t.indexOf("?")?t+="?":"&"!==t.charAt(t.length-1)&&(t+="&"),t+=zt(n)),i){var r={};return r[(new Date).getTime()]=null,e(t,r)}var o=t.length;return"&"===t.charAt(o-1)?t.slice(0,o-1):t},Gt=e.document,Yt=Gt.head||Gt.getElementsByTagName("head")[0]||Gt.body,Xt=function(e,t,n,i){var r=Gt.createElement("script");r.src=Wt(e,t,n),r.async=!0,r.charset="UTF-8",r.onload=i,Yt.appendChild(r)},Ft=e.document,s=function(e){if(e){var t=Ft.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",Ft.body.appendChild(t),setTimeout(function(){e(0===t.offsetHeight),Ft.body.removeChild(t)},100)}},a=function(e){try{return e.self!==e.top}catch(e){return!0}},qt=o,jt=r,l=function(e){return qt(Array.prototype.slice.call(arguments,1),function(t){for(var n in t)jt(t,n)&&(e[n]=t[n])}),e},c=function(n){var i=o,r=Qt,s="https://referrer.disqus.com/juggler";return{getLoaderVersionFromUrl:function(e){var t=e.split("."),n=t.length>2?t[t.length-2]:"";return n.match(/^[0-9a-f]{32}$/i)&&n},logStat:function(t){(new e.Image).src=r(s+"/stat.gif",{event:t})},reportJester:function(t){(new e.Image).src=r(s+"/event.gif",t)},reportJesterPOST:function(n){var r=new e.URLSearchParams;i(n,function(e,n){e!==t&&r.append(n,e)});var o=new e.XMLHttpRequest;o.open("POST",s+"/event.json",!0),o.withCredentials=!0,o.send(r)}}}(),u=function(){return{get:function(t){var n=(t=t||{}).Math||e.Math,i=t.Date||e.Date;try{var r=(new i).getTimezoneOffset(),o=1,s=e.screen;s&&s.availWidth?o=s.availWidth*s.availHeight+s.colorDepth:s&&s.width&&(o=s.width*s.height);var a=e.document.documentElement,l=a.clientWidth*a.clientHeight;return n.abs(17*r+25*o-l)}catch(e){return 1}}}}(),d=function(t){return{generate:function(n){var i,r,o=(n=n||{}).Math||e.Math,s=Number((new Date).getTime().toString().substring(3));return o.abs(s+(i=e.performance,r=i&&i.timing,r?11*(r.domainLookupEnd-r.domainLookupStart)+13*(r.connectEnd-r.connectStart)+17*(r.responseStart-r.navigationStart):1e5)-t.get()).toString(32)+function(t){var n=(t=t||{}).Uint32Array||e.Uint32Array,i=t.crypto||e.crypto,r=t.Math||e.Math;try{var o=new n(1);return i.getRandomValues(o),o[0]}catch(e){return r.floor(1e9*r.random())}}(n).toString(32)}}}(u),Ut=e.document,(Bt=Ut.createElement("iframe")).style.display="none",h=function(e,t){var n=t&&t[e]||null;try{return Bt.parentNode!==Ut.body&&Ut.body.appendChild(Bt),Bt.contentWindow[e]||n}catch(e){return n}},f={isIE:function(){return Boolean(e.document.documentMode)},isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>-1&&-1===t.indexOf("chrome")},isFirefox:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("firefox")>-1&&-1===t.indexOf("chrome")},isChrome:function(){var n=e.navigator.userAgent.toLowerCase();return n.indexOf("CriOS")>-1||Boolean(e.chrome)&&"Google Inc."===e.navigator.vendor&&e.opr===t&&-1===n.indexOf("Edge")},isCrawler:function(n){n===t&&(n=e);var i=n.navigator.userAgent;return/bot|crawl|slurp|spider|facebookexternalhit|embedly|feedly|pinterest/i.test(i)}},m=function(e){return"[object String]"===Object.prototype.toString.call(e)},g=e.getComputedStyle?function(t,n,i){try{return e.document.defaultView.getComputedStyle(t,null).getPropertyValue(n)}catch(e){return null}}:function(e,t,n){return e.currentStyle[t]||e.currentStyle[n]},p=function(e){var t=o,n=m,i=l;return function(e,r,o){var s={};n(r)?s[r]=o:s=r;var a=i({},s);t(a,function(e,t){var n=t.replace(/\s+/g,"").toLowerCase();n!==t&&(delete a[t],a[n]=e),null===e&&(a[n]=""),void 0===e&&delete a[n]});var l=e.style;t(a,function(e,t){l.setProperty(t,String(e),"important")})}}(),v=function(t){function n(e){return e.replace(/\s+/g,"").toLowerCase()}function i(e){return e=(e=e.replace(/^#([a-f0-9])([a-f0-9])([a-f0-9])$/,"#$1$1$2$2$3$3")).slice(1),{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}}function r(e){var t=e.match(/^rgb\((\d+),(\d+),(\d+)\)$/);return{red:parseInt(t[1],10),green:parseInt(t[2],10),blue:parseInt(t[3],10)}}function o(e){var t=e.match(/^rgba\((\d+),(\d+),(\d+),([\d.]+)\)$/);return{red:parseInt(t[1],10),green:parseInt(t[2],10),blue:parseInt(t[3],10),alpha:parseFloat(t[4])}}function s(t,n,i,r){return n=e.document.createElement(n),l(n,{visibility:"hidden",color:i}),t.appendChild(n),i=r(n),t.removeChild(n),i}function a(t,i){var o=(i=i||{}).container||e.document.body;return e.getComputedStyle?r(n(t=s(o,"span",t,function(t){return e.getComputedStyle(t,null).getPropertyValue("color")}))):{red:255&(t=s(o,"textarea",t,function(e){return e.createTextRange().queryCommandValue("ForeColor")})),blue:t>>>16,green:(65280&t)>>>8}}var l=p;return function(e,t){var s;if("transparent"===(e=n(e)))return{red:0,green:0,blue:0,alpha:0};if("#"===e.charAt(0))s=i;else if("rgba("===e.slice(0,5))s=o;else if("rgb("===e.slice(0,4))s=r;else{if(!/^[a-z]+$/.test(e))throw new Error("parseColor received unparseable color: "+e);s=a}return s(e,t)}}(),y=function(n){function i(e){if(!e||"embed.js"!==e.substring(e.length-8))return null;for(var t,n=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_-]+)/i,/(https?:)?\/\/(www\.)?([\w_-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_-]+)/i,/(https?:)?\/\/(www\.)?([\w_-]+)\.dev\.disqus\.org/i],i=n.length,r=0;r<i;r++)if(t=e.match(n[r]),t&&t.length&&4===t.length)return t[3];return null}function r(e){return e.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,"")}function o(e,t,n,i){l(t)&&(t=p.createElement(t));var r;return t.style.visibility="hidden",e.appendChild(t),r=function e(t,n,i){var r=c(t,n,i=i||n);return!r||/color/i.test(n)&&0===u(r).alpha?t&&e(t.parentNode,n,i)||r:r||null}(t,n,i),e.removeChild(t),r}function s(e){var t=e.red,n=e.green,i=e.blue;if(e.hasOwnProperty("alpha")){var r=e.alpha,o=function(e){return Math.round(e*r+255*(1-r))};t=o(t),n=o(n),i=o(i)}return(299*t+587*n+114*i)/1e3}var a=f,l=m,c=g,u=v,d=h,p=e.document;return{MAX_Z_INDEX:2147483647,getShortnameFromUrl:i,getForum:function(e,t){var n,r,o,s=e.getElementsByTagName("script"),a=s.length;t=t||i;for(var l=a-1;l>=0;l--)if(n=s[l],r=n.getAttribute?n.getAttribute("src"):n.src,o=t(r),null!==o)return o.toLowerCase();return null},guessThreadTitle:function(){for(var e=p.getElementsByTagName("h1"),n=p.title,i=n.length,r=n,o=.6,s=function(e){var s,a=e.textContent||e.innerText;null!==a&&a!==t&&(s=function(e,t){var n,i,r=0,o=new Array(e.length);for(n=0;n<=e.length;n++)for(o[n]=new Array(t.length),i=0;i<=t.length;i++)o[n][i]=0;for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)e[n]===t[i]&&(o[n+1][i+1]=o[n][i]+1,o[n+1][i+1]>r&&(r=o[n+1][i+1]));return r}(n,a)/i)>o&&(o=s,r=a)},a=0;a<e.length;a++)s(e[a]);return r},getContrastYIQ:s,getColorScheme:function(e){var t=o(e,"span","background-color","backgroundColor"),n=u(t,{container:e});return 0===n.alpha?"light":s(n)<128?"dark":"light"},getElementStyle:o,getAnchorColor:function(e){var t=p.createElement("a");return t.href=Number(new Date),u(o(e,t,"color"),{container:e})},normalizeFontValue:r,isSerif:function(e){for(var t,n=o(e,"span","font-family","fontFamily").split(","),i={courier:1,times:1,"times new roman":1,georgia:1,palatino:1,serif:1},s=0;s<n.length;s++)if(t=r(n[s]),i.hasOwnProperty(t))return!0;return!1},getBrowserSupport:function(e){if(!d("atob")||!d("requestAnimationFrame"))return 1;try{e.postMessage("ping","*")}catch(e){return 2}return 0},pageVisibility:function(){var e,t,n=function(){return!1};if("hidden"in p)e="hidden",t="visibilitychange";else{if(!("webkitHidden"in p))return{isHidden:n,listen:n,stopListening:n};e="webkitHidden",t="webkitvisibilitychange"}return{isHidden:function(){return p[e]},listen:function(e){return p.addEventListener(t,e)},stopListening:function(e){return p.removeEventListener(t,e)}}}(),getScrollbarWidth:function(){var e=p.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",p.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=p.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},browser:a,storage:{getItem:function(t){try{return e.localStorage.getItem(t)}catch(e){}},setItem:function(t,n){try{return e.localStorage.setItem(t,n)}catch(e){}}},appearsToHideContent:function(e){if(1===e.nodeType){var t=c(e,"max-height","maxHeight"),n=c(e,"overflow-y","overflowY");return t&&"none"!==t&&n&&"visible"!==n}},hasOverflow:function(e){if(1===e.nodeType)return e.scrollHeight-e.clientHeight>4},getCanonicalUrl:function(){if(p.querySelector){var e=p.querySelector("link[rel=canonical]");if(e)return e.href}}}}(),w=function(e){var n=o,i=d,r=h,s=y,a=function(e,n){this.win=e,this.configurator=n,this.config={page:{url:t,title:t,slug:t,category_id:t,identifier:t,language:t,integration:t,api_key:t,remote_auth_s3:t,author_s3:t},experiment:{enable_scroll_container:!0,force_auto_styles:t,sort_order:t,force_mobile:t},server_side:{service:"static",experiment:"default",variant:"control",top_placement_url:t,bottom_placement_url:t,inthread_placement_url:t,outside_placement_url:t,inthread_minimum_comment_count:t,inthread_show_after_comment:t,inthread_leading_comment_count:t,inthread_repeat_comment_count:t,inthread_trailing_comment_count:t,inthread_count_children:t,inthread_multiple_ads:t,sandbox_ads:t,can_disable_ads:t,home_discovery_enabled:t,forum_id:t,is_private:t},discovery:{disable_all:t,disable_promoted:t,sponsored_comment_id:t,preview:!1,adsFixture:t,pdFixture:t},strings:t,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[],beforeComment:[]}}};a.DISQUS_GLOBALS=["shortname","identifier","url","title","integration","slug","category_id"];var l=a.prototype;return l.getContainer=function(){var e=this.win;return e.document.getElementById(e.disqus_container_id||"disqus_thread")},l.runConfigurator=function(){var e=this.configurator||this.win.disqus_config;if("function"==typeof e)try{e.call(this.config)}catch(e){}},l.getValuesFromGlobals=function(){var e,t=this.win,i=this.config,r=i.page;n(a.DISQUS_GLOBALS,function(e){var n=t["disqus_"+e];void 0!==n&&(r[e]=n)}),this.runConfigurator(),i.forum||(e=r.shortname,i.forum=e?e.toLowerCase():s.getForum(t.document))},l.toJSON=function(){var e,t=this.win,n=this.config,o=n.page,a=this.getContainer(),l=s.getBrowserSupport(t);return this.getValuesFromGlobals(),(n.server_side.outside_placement_url||n.server_side.top_placement_url||n.server_side.inthread_placement_url||n.server_side.bottom_placement_url)&&(e=i.generate({Math:r("Math",t),crypto:r("crypto",t),Uint32Array:r("Uint32Array",t),Date:r("Date",t)})),{impressionId:e||null,container:a,forum:n.forum,sortOrder:n.experiment.sort_order||s.storage.getItem("disqus.sort")||"default",language:n.language,typeface:s.isSerif(a)?"serif":"sans-serif",anchorColor:s.getAnchorColor(a),colorScheme:s.getColorScheme(a),canonicalUrl:s.getCanonicalUrl(),url:o.url||t.location.href.replace(/#.*$/,""),title:o.title,documentTitle:s.guessThreadTitle(),slug:o.slug,category:o.category_id,identifier:o.identifier,integration:o.integration,discovery:n.discovery,experimentName:n.server_side.experiment,experimentVariant:n.server_side.variant,experimentService:n.server_side.service,forumId:n.server_side.forum_id,topPlacementUrl:n.server_side.top_placement_url,bottomPlacementUrl:n.server_side.bottom_placement_url,inthreadPlacementUrl:n.server_side.inthread_placement_url,outsidePlacementUrl:n.server_side.outside_placement_url,inthreadMinimumCommentCount:n.server_side.inthread_minimum_comment_count,inthreadShowAfterComment:n.server_side.inthread_show_after_comment,inthreadLeadingCommentCount:n.server_side.inthread_leading_comment_count,inthreadRepeatCommentCount:n.server_side.inthread_repeat_comment_count,inthreadTrailingCommentCount:n.server_side.inthread_trailing_comment_count,inthreadCountChildren:n.server_side.inthread_count_children,inthreadMultipleAds:n.server_side.inthread_multiple_ads,sandboxAds:n.server_side.sandbox_ads,canDisableAds:n.server_side.can_disable_ads,homeDiscoveryEnabled:n.server_side.home_discovery_enabled,apiKey:o.api_key,remoteAuthS3:o.remote_auth_s3,sso:n.sso,unsupported:l,degraded:Boolean(l)||s.browser.isCrawler(),callbacks:n.callbacks,enableScrollContainer:n.experiment.enable_scroll_container,forceAutoStyles:n.experiment.force_auto_styles,forceMobile:n.experiment.force_mobile,isPrivate:n.server_side.is_private}},{HostConfig:a}}(),b={log:"undefined"==typeof console?function(){}:"function"==typeof console.log?function(){return console.log(Array.prototype.slice.call(arguments,0).join(" "))}:function(){return console.log.apply(console,arguments)}},Mt=g,_=function(e){return Boolean(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&"hidden"!==Mt(e,"visibility"))},S=function(e,t,n){var i=function(){var r=e();return r?void t(r):void setTimeout(i,n)};i()},C=function(t){var n=e.document,i=n.createElement("a");return{getContainer:function(e){return n.getElementById(e)||n.body||n.documentElement},getHost:function(e){return i.href=e,i.hostname},getOffset:function(e,t){t=t||n.documentElement;for(var i=e,r=0,o=0;i&&i!==t;)r+=i.offsetLeft,o+=i.offsetTop,i=i.offsetParent;return{top:o,left:r,height:e.offsetHeight,width:e.offsetWidth}}}}(),Vt=Math.floor(1e4*Math.random()+1),It=o,Ot=r,Lt=E=function(e){var t=String(Vt+=1);return e?e+t:t},Nt=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)Ot(e,n)&&(t[t.length]=n);return t},Ht=[].slice,kt={on:function(e,t,n){return Dt(this,"on",e,[t,n])&&t?(this._events=this._events||{},(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!Dt(this,"once",e,[t,n])||!t)return this;var i,r,o,s=this,a=(i=function(){s.off(e,a),t.apply(this,arguments)},o=!1,function(){return o?r:(o=!0,r=i.apply(this,arguments),i=null,r)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,r,o,s,a,l,c,u;if(!this._events||!Dt(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=0,l=(s=e?[e]:Nt(this._events)).length;a<l;a++)if(e=s[a],o=this._events[e]){if(this._events[e]=i=[],t||n)for(c=0,u=o.length;c<u;c++)r=o[c],(n&&n!==r.context||t&&t!==r.callback&&t!==r.callback._callback)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=Ht.call(arguments,1);if(!Dt(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&Rt(n,t),i&&Rt(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},Pt=/\s+/,Dt=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(Pt.test(n)){for(var o=n.split(Pt),s=0,a=o.length;s<a;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},Rt=function(e,t){var n,i,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(i=0;i<r;i++)(n=e[i]).callback.call(n.ctx);return;case 1:for(i=0;i<r;i++)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(i=0;i<r;i++)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(i=0;i<r;i++)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(i=0;i<r;i++)(n=e[i]).callback.apply(n.ctx,t)}},It({listenTo:"on",listenToOnce:"once"},function(e,t){kt[t]=function(t,n,i){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=Lt("l"))]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),kt.bind=kt.on,kt.unbind=kt.off,x=kt,At=h,T=("[object JSON]"===(Tt=e).Object.prototype.toString.call(Tt.JSON)?Tt.JSON:At("JSON",Tt))||{},bt=x,St=E,Ct=C,Et=T,(_t=l)(xt=function e(t){t=t||{},this.state=e.INIT,this.uid=t.uid||St("dsq-frame"),this.origin=t.origin,this.host=Ct.getHost(this.origin),this.target=t.target,this.sandbox=t.sandbox,this.window=null,e.windows[this.uid]=this,this.on("ready",function(){this.state=e.READY},this),this.on("die",function(){this.state=e.KILLED},this)},{INIT:0,READY:1,KILLED:2,windows:{},postMessage:function(e,t,n){return e.postMessage(t,n)}}),_t(xt.prototype,bt),xt.prototype.requiresWindow=function(e){var t=this;return function(){var n=Array.prototype.slice.call(arguments),i=function i(){t.window?e.apply(t,n):setTimeout(i,500)};t.isReady()?i():t.on("ready",i)}},xt.prototype.sendMessage=function(e,t){var n=Et.stringify({scope:"client",name:e,data:t});this.requiresWindow(function(e){xt.postMessage(this.window,e,this.origin)})(n)},xt.prototype.hide=function(){},xt.prototype.show=function(){},xt.prototype.url=function(){return this.target},xt.prototype.destroy=function(){this.state=xt.KILLED,this.off()},xt.prototype.isReady=function(){return this.state===xt.READY},xt.prototype.isKilled=function(){return this.state===xt.KILLED},mt=p,gt=l,pt=A=xt,vt=C,yt=e.document,gt((wt=function(e){pt.call(this,e),this.styles=e.styles||{},this.tabIndex=e.tabIndex||0,this.title=e.title||"Disqus",this.sandbox=e.sandbox,this.container=e.container,this.elem=null}).prototype,pt.prototype),wt.prototype.load=function(){var e=this.elem=yt.createElement("iframe");e.setAttribute("id",this.uid),e.setAttribute("name",this.uid),e.setAttribute("allowTransparency","true"),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),this.role&&e.setAttribute("role",this.role),e.setAttribute("tabindex",this.tabIndex),e.setAttribute("title",this.title),"string"==typeof this.sandbox&&e.setAttribute("sandbox",this.sandbox),this.setInlineStyle(this.styles)},wt.prototype.getOffset=function(e){return vt.getOffset(this.elem,e)},wt.prototype.setInlineStyle=function(e,t){return mt(this.elem,e,t)},wt.prototype.removeInlineStyle=function(e){var t=this.elem.style;return"removeProperty"in t?void t.removeProperty(e):void(t[e]="")},wt.prototype.hide=function(){this.setInlineStyle("display","none")},wt.prototype.show=function(){this.removeInlineStyle("display")},wt.prototype.destroy=function(){return this.elem&&this.elem.parentNode&&(this.elem.parentNode.removeChild(this.elem),this.elem=null),pt.prototype.destroy.call(this)},lt=m,ct=l,ut=C,dt=I=wt,ht=e.document,ct((ft=function(e){dt.call(this,e),this.contents=e.contents||"",this.styles=ct({width:"100%",border:"none",overflow:"hidden"},e.styles||{})}).prototype,dt.prototype),ft.prototype.load=function(e){dt.prototype.load.call(this);var t=this.elem;(lt(this.container)?ut.getContainer(this.container):this.container).appendChild(t),this.window=t.contentWindow;try{this.window.document.open()}catch(e){t.src='javascript:var d=document.open();d.domain="'+ht.domain+'";void(0);'}return this.document=this.window.document,this.document.write(this.contents),this.document.close(),this.updateHeight(),e&&setTimeout(e,0),this},ft.prototype.updateHeight=function(){var e=this.document.body;if(e){var t=e.offsetHeight+"px";this.setInlineStyle({height:t,"min-height":t,"max-height":t})}},ft.prototype.show=function(){this.setInlineStyle("display","block"),this.updateHeight()},ft.prototype.click=function(e){var t=this;t.document.body.addEventListener("click",function(n){e.call(t,n)})},O=ft,(at=Zt).PAGINATION_CONFIG={ALL:0,COMPACT:1,STANDARD:2,COMFORTABLE:3,COZY:4,TOP_LEVEL:5},Zt=at,ot=g,st=e.document.body,L=function(){var e=st.offsetHeight,t=parseInt(ot(st,"margin-top","marginTop"),10);t&&(e+=t);var n=parseInt(ot(st,"margin-bottom","marginBottom"),10);return n&&(e+=n),e},Ze=l,et=Qt,tt=Jt,nt="default",it={lounge:"http://disqus.com/embed/comments/",home:"https://disqus.com/home/".replace("home/","")},N={BASE:nt,apps:it,get:function(e,t,n){var i=it[e];if(!i)throw new Error("Unknown app: "+e);var r=rt(i),o=Ze({base:nt},t||{}),s=n?"#"+tt(n):"";return et(r,o)+s},ensureHTTPSProtocol:rt=function(e){return"https://"+e.replace(/^\s*(\w+:)?\/\//,"")}},Je=r,Qe=E,($e=l)((Xe=function(e){this.uid=Qe("dsq-app"),this.settings=e||{};var t=[],n=this.constructor.prototype;do{t.unshift(n),n=n.constructor.__super__}while(n);for(var i=0,r=t.length;i<r;i++)n=t[i],Je(n,"events")&&this.on(n.events,this),Je(n,"onceEvents")&&this.once(n.onceEvents,this)}).prototype,x),Xe.prototype.destroy=function(){this.off(),this.stopListening()},Xe.extend=function(e,t){var n,i=this;n=e&&Je(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},$e(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&$e(n.prototype,e),n.__super__=i.prototype,n},H=Xe,k=function(e,t,n){n||(n=0);var i,r,o,s,a=0,l=function(){a=new Date,o=null,s=e.apply(i,r)};return function(){var c=new Date,u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=e.apply(i,r)):o||(o=setTimeout(l,u+n)),s}},en=function(t){var n=x,i=m,o=r,s=l,a=I,c=A,u=C,d=T,h=e.document;t.throttle=k,e.addEventListener("message",function(e){var n;try{n=d.parse(e.data)}catch(e){return}var i=n.sender,r=o(c.windows,i)&&c.windows[i];r&&u.getHost(e.origin)===r.host&&(e.origin!==r.origin&&(r.origin=e.origin),"host"===n.scope&&r.trigger(n.name,n.data),"error"===n.name&&t.trigger("error",n.data))}),e.addEventListener("hashchange",function(){t.trigger("window.hashchange",{hash:e.location.hash})}),e.addEventListener("resize",t.throttle(function(){t.trigger("window.resize")},250,50)),h.addEventListener("mousemove",t.throttle(function(){t.trigger("window.mousemove")},250,50));e.addEventListener("scroll",t.throttle(function(){t.trigger("window.scroll")},250,50),!1),h.addEventListener("click",function(){t.trigger("window.click")});var f=t.Popup=function(e){e.uid=e.windowName,c.call(this,e)};s(f.prototype,c.prototype),f.prototype.load=function(){(this.window=e.open("",this.uid||"_blank")).location=this.url()},f.prototype.isKilled=function(){return c.prototype.isKilled()||this.window.closed};var g=t.Channel=function(e){this.window=null,a.call(this,e),this.insertBeforeEl=e.insertBeforeEl,this.insertAfterEl=e.insertAfterEl,this.styles=s({width:"1px","min-width":"100%",border:"none",overflow:"hidden",height:"0"},e.styles||{})};return s(g.prototype,a.prototype),g.prototype.load=function(e){var t=this;a.prototype.load.call(t);var n=t.elem;n.setAttribute("width","100%"),n.setAttribute("src",this.url()),n.addEventListener("load",function(){t.window=n.contentWindow,e&&e()});var r=i(t.container)?u.getContainer(t.container):t.container,o=(t.insertAfterEl?t.insertAfterEl.nextSibling:t.insertBeforeEl)||null;r.insertBefore(n,o)},g.prototype.destroy=function(){return this.window=null,a.prototype.destroy.call(this)},t.on=n.on,t.off=n.off,t.trigger=n.trigger,t}(en),We=l,Ge=N,Ye=H,ze=en,Ke=e.document,P=Ye.extend({name:null,loaderVersion:null,frame:null,origin:Ge.ensureHTTPSProtocol("https://disqus.com"),state:null,getUrl:function(e,t){return this.loaderVersion&&(t=We({version:this.loaderVersion},t)),Ge.ensureHTTPSProtocol(Ge.get(this.name,e,t))},getFrameSettings:function(){var e={target:this.getUrl(),origin:this.origin,uid:this.uid,sandbox:this.sandbox},t=this.settings;return t.windowName?e.windowName=t.windowName:e.container=t.container||Ke.body,e},getFrame:function(){var e=this.getFrameSettings();return new(e.windowName?ze.Popup:ze.Channel)(e)},setState:function(e){var t=this.constructor;return e in t.states&&(this.state=t.states[e],void this.trigger("state:"+e))},init:function(){var e,t=this;t.frame=e=this.getFrame(),t.listenTo(e,"all",function(n,i){t.trigger("frame:"+n,i,e)}),t.trigger("change:frame",e),t.frame.load(function(){t.setState("LOADED")}),t.setState("INIT")},destroy:function(){var e=this.frame;e&&(this.stopListening(e),e.destroy()),this.setState("KILLED"),this.frame=null,Ye.prototype.destroy.call(this)},events:{"frame:ready":function(){this.setState("READY")}}},{states:{INIT:0,LOADED:1,READY:2,RUNNING:3,KILLED:4}}),De=g,Re=L,Ve=_,Me=P,Ue=en,Be=y,qe=Zt.PAGINATION_CONFIG,je=e.document,Fe=je.querySelector("html"),D=Me.extend({getUrl:function(){var t=this.settings,n={f:t.forum,t_i:t.identifier,t_u:t.url||e.location.href,t_s:t.slug,t_e:t.title,t_d:t.documentTitle,t_t:t.title||t.documentTitle,t_c:t.category,s_o:t.sortOrder,l:t.language};return t.unsupported&&(n.n_s=t.unsupported),"collapsed_replies"===t.experimentName&&"active"===t.experimentVariant&&(n.d_m=qe.STANDARD),Me.prototype.getUrl.call(this,n)},getFrameInitParams:function(t){var n=this.settings,i={permalink:n.permalink,anchorColor:n.anchorColor,referrer:e.location.href,hostReferrer:je.referrer,canonicalUrl:n.canonicalUrl,colorScheme:n.colorScheme,typeface:n.typeface,remoteAuthS3:n.remoteAuthS3,apiKey:n.apiKey,sso:n.sso,parentWindowHash:e.location.hash,forceAutoStyles:n.forceAutoStyles,forceMobile:n.forceMobile,layout:n.layout,integration:n.integration,version:n.version,isPrivate:n.isPrivate,timestamp:this.timestamp,embedLoadTime:this.getBootloaderTimingInfo(),isHeightRestricted:this.isHeightRestricted()};return i.initialPosition=this.getViewportAndScrollStatus(),i},listenToScrollEvent:function(e){var t=this,n=t.getScrollContainer();if(n===Fe)return t.listenTo(Ue,"window.scroll",e),function(){t.stopListening(Ue,"window.scroll",e)};var i=Ue.throttle(function(){e.call(t)},250,50);return n.addEventListener("scroll",i),function(){n.removeEventListener("scroll",i)}},storeScrollContainer:function(){if(this.settings.enableScrollContainer){var e,t,n=[];if(this.potentialScrollContainers)for(t=0;t<this.potentialScrollContainers.length&&(e=this.potentialScrollContainers[t],!(e.clientHeight<e.scrollHeight));t++)e=null;else{e=this.settings.container;do{var i=De(e,"overflow-y","overflowY");if(("scroll"===i||"auto"===i)&&(n.push(e),e.clientHeight<e.scrollHeight))break;e=e.parentNode}while(e&&e!==Fe)}e&&e!==je.body||(e=Fe),this.potentialScrollContainers||(this.potentialScrollContainers=n);var r=this.scrollContainer&&this.scrollContainer!==e;this.scrollContainer=e,r&&(this.stopListeningToScrollEvent&&this.stopListeningToScrollEvent(),this.stopListeningToScrollEvent=this.listenToScrollEvent(this.communicateViewportAndScrollStatus))}else this.scrollContainer=Fe},getScrollContainer:function(){return this.scrollContainer||this.storeScrollContainer(),this.scrollContainer},getViewportCoords:function(){return this.getScrollContainer()===Fe?this.getWindowCoords():this.getScrollContainerCoords()},getWindowCoords:function(){if("number"==typeof e.pageYOffset)this.getWindowScroll=function(){return e.pageYOffset},this.getWindowHeight=function(){return e.innerHeight};else{var t=Fe.clientHeight||Fe.clientWidth?Fe:je.body;this.getWindowScroll=function(){return t.scrollTop},this.getWindowHeight=function(){return t.clientHeight}}return this.getWindowCoords=function(){return{top:this.getWindowScroll(),height:this.getWindowHeight()}},this.getWindowCoords()},getScrollContainerCoords:function(){var e=this.getScrollContainer();return{top:e.scrollTop,height:e.clientHeight}},getBootloaderTimingInfo:function(){if(e.performance&&e.performance.getEntriesByName){var t=je.currentScript?je.currentScript.src:"https://"+this.settings.forum+".disqus.com/embed.js",n=e.performance.getEntriesByName(t)[0];return n&&n.duration}},getViewportAndScrollStatus:function(){var e=this.frame;if(!e||!e.getOffset)return null;if(!Ve(e.elem))return null;var t=this.getViewportCoords();return{frameOffset:e.getOffset(this.getScrollContainer()),pageOffset:t.top,height:t.height}},communicateViewportAndScrollStatus:function(){var e=this.getViewportAndScrollStatus();if(e){var t=e.frameOffset,n=t.top,i=n+t.height,r=e.pageOffset,o=e.height,s=r+o,a=!1,l=!1;n<=s+o&&(l=(a=i>=r)&&n<=s);var c=this.frame;c.sendMessage("window.scroll.always",e),a&&c.sendMessage("window.scroll",e),l!==this.wasInViewport&&(c.sendMessage(l?"window.inViewport":"window.scrollOffViewport"),this.wasInViewport=l)}},getBestNextFrameHeight:function(e){var t=this.getViewportAndScrollStatus();if(!t||this.settings.enableScrollContainer||!this.getScrollContainer())return e;var n=t.frameOffset;if(e>=n.height)return e;var i=Re()-(n.height+n.top),r=t.pageOffset+t.height-(n.top+i);return r>e?r+1:e},isHeightRestricted:function(e){e=e||{};var t=this.settings.container,n=t.parentNode,i=n!==Fe&&n!==je.body;return e.checkScrollHeight?Be.appearsToHideContent(t)&&Be.hasOverflow(t)||i&&Be.appearsToHideContent(n)&&Be.hasOverflow(n):Be.appearsToHideContent(t)||i&&Be.appearsToHideContent(n)},events:{"state:INIT":function(){this.settings.degraded||(this.settings.windowName||(this.stopListeningToScrollEvent=this.listenToScrollEvent(this.communicateViewportAndScrollStatus),this.listenTo(Ue,"window.resize",this.communicateViewportAndScrollStatus)),this.timestamp=Number(new Date))},"state:LOADED":function(){var e=this.frame,t=e.elem;this.settings.degraded?(e.setInlineStyle("height","500px"),t.setAttribute("scrolling","yes"),t.setAttribute("horizontalscrolling","no"),t.setAttribute("verticalscrolling","yes"),e.show()):this.settings.windowName||(this.rendered=!1,e.setInlineStyle("height","0"),t.setAttribute("scrolling","no"),t.setAttribute("horizontalscrolling","no"),t.setAttribute("verticalscrolling","no"))},"frame:ready":function(e,t){var n=this.getFrameInitParams(e,t);t.sendMessage("init",n)},"frame:resize":function(e,t){var n=e.height;t.elem&&this.rendered&&(n=this.getBestNextFrameHeight(n),t.setInlineStyle("height",n+"px"),t.sendMessage("embed.resized")),this.storeScrollContainer(),this.communicateViewportAndScrollStatus()},"frame:rendered":function(e,t){this.rendered=!0,this.wasInViewport=!1,t.trigger("resize",e),t.sendMessage("embed.rendered")},"frame:fail":function(e,t){t.elem&&t.setInlineStyle("height",e&&e.height||"75px")},"frame:scrollTo":function(t,n){if(n.elem&&n.getOffset){var i=this.getScrollContainer(),r=n.getOffset(i),o="window"===t.relative?t.top:r.top+t.top,s=this.getViewportCoords();!t.force&&o>s.top&&o<s.top+s.height||(i===Fe?e.scrollTo(0,o):i.scrollTop=o)}}}}),Ae=g,Ie=Qt,Oe=y,Le=N,Ne=P,He=e.document,ke=/^calc\((.+)\)$/,Pe=Ne.extend({name:"home",events:{"frame:close":function(t,n){n.hide(),e.focus()},"frame:openReady":function(){this.frame.show(),this.frame.sendMessage("open"),(Oe.browser.isIE()||Oe.browser.isSafari())&&this.preventScrolling(),this.frame.elem&&this.frame.elem.focus()},"state:LOADED":function(){this.frame.removeInlineStyle("visibility")},"frame:after:render":function(){Oe.browser.isSafari()&&this.triggerHostReflow()}},preventScrolling:function(){var e=this.getBodyOverflow(),t=He.body.style.marginRight,n=He.documentElement.style,i=n.overflow;this.listenToOnce(this,"frame:close",function(){this.setBodyStyles({overflow:e,marginRight:t}),n.overflow=i}),this.setBodyStyles({overflow:"hidden",marginRight:this.calcMargin(Ae(He.body,"margin-right","marginRight")||t)}),n.overflow="hidden"},triggerHostReflow:function(){var e=He.createElement("style");He.body.appendChild(e),He.body.removeChild(e)},calcMargin:function(e){var t=e.match(ke);return t&&(e=t[1]),e?"calc("+e+" + "+Oe.getScrollbarWidth()+"px)":Oe.getScrollbarWidth()+"px"},setBodyStyles:function(e){for(var t in e)He.body.style[t]=e[t]},getBodyOverflow:function(){return He.body.style.overflow},getSecureOrigin:function(){return Le.ensureHTTPSProtocol(Pe.SECURE_HOME_URL).split("/").slice(0,3).join("/")},getFrameSettings:function(){var e=Ne.prototype.getFrameSettings.call(this);return e.role="dialog",e.origin=this.getSecureOrigin(),e.styles={height:"100%",position:"fixed",top:0,right:0,left:"auto",bottom:"auto","z-index":Oe.MAX_Z_INDEX,visibility:"hidden"},e},getUrl:function(){var e=this.settings.path||"",t=this.settings.language,n={utm_source:"disqus_embed"};return t&&"en"!==t&&(n.l=t),Ie(Le.apps[this.name]+e,n)},show:function(e){if(this.frame.isReady()){var t={disableMOTD:this.settings.disableMOTD,path:e};this.settings.sso&&(t.sso=this.settings.sso),this.frame.sendMessage("showPath",t)}else this.once("frame:ready",function(){this.show(e)},this)}},{SECURE_HOME_URL:"https://disqus.com/home/",READY_TIMEOUT:1e4,getInstanceOrLoad:function(e){var t=Pe.instance;return t||(t=Pe.instance=new Pe(e),e.preload&&t.listenToOnce(t,"state:INIT",function(){t.frame.hide()}),Pe.setHomeTimeout(t),t.init(),e.forum&&t.listenToOnce(t,"frame:ready",function(){t.frame.sendMessage("setForum",e.forum)}),t)},setHomeTimeout:function(e){Pe.homeTimeoutId&&clearTimeout(Pe.homeTimeoutId);var t=Pe.homeTimeoutId=setTimeout(function(){e.frame.destroy(),e.trigger("timeout")},Pe.READY_TIMEOUT);e.listenToOnce(e,"state:READY",function(){clearTimeout(t)})},preload:function(e){return e.preload=!0,Pe.getInstanceOrLoad(e)},destroy:function(){var e=Pe.instance;e&&(e.destroy(),Pe.instance=null)},show:function(e){var t=Pe.getInstanceOrLoad(e);return t.show(e.path),t}}),R={show:Pe.show,preload:Pe.preload,destroy:Pe.destroy,HomeApp:Pe},he=e.document,fe=o,me=Xt,ge=l,pe=_,ve=S,ye=c,we=O,be=C,Se=en,Ce=b,Ee=y,xe=R,Te=(_e=D).extend({name:"lounge",loaderVersion:ye.getLoaderVersionFromUrl("https://c.disquscdn.com/next/embed/lounge.load.5cfe3f3f7a9413ba555579f40a6f44c9.js"),indicators:null,wasInViewport:!1,triggeredSlowEvent:!1,events:{"state:INIT":function(){var t=this.settings,n=t.server_side;return n&&"fallback"===n.service&&ye.logStat("embed.fallback"),t.degraded?void ye.reportJester({imp:t.impressionId,experiment:t.experimentName,variant:t.experimentVariant,service:t.experimentService,forum:t.forum,version:this.loaderVersion,page_url:e.location.href,page_referrer:he.referrer,event:"activity",verb:"load",product:"embed",zone:"thread",section:"degraded",adjective:t.unsupported,object_type:"thread",object_id:t.identifier}):(this.indicators={},this.isContainerVisible()?this.addLoadingAnim():this.addLoadingAnimOnContainerVisible(),this.bindPublisherCallbacks(),void this.forwardGlobalEvents())},"state:LOADED":function(){this.isContainerVisible()&&this.addLoadingAnim()},"frame:reload":function(){e.location.reload()},"frame:navigate":function(t){e.location.href=t},"frame:session.identify":function(e){this.trigger("session.identify",e)},"frame:posts.paginate":function(){this.trigger("posts.paginate")},"frame:posts.count":function(e){this.trigger("posts.count",e)},"frame:posts.create":function(e){this.trigger("posts.create",{id:e.id,text:e.raw_message})},"frame:posts.beforeCreate":function(e){this.onBeforePostCreate(e)},"frame:home.destroy":function(){this.destroyHome()},"frame:home.preload":function(e){this.preloadHome(e)},"frame:home.show":function(e){this.showHome(e)},"frame:home.open":function(t){e.location=t},"frame:indicator:init":function(e,t){if(t.getOffset){for(var n,i,r=["north","south"],o=this.indicators,s=t.getOffset().width+"px",a={width:s,"min-width":s,"max-width":s,position:"fixed","z-index":Ee.MAX_Z_INDEX-1},l={north:{top:"0"},south:{bottom:"0"}},c=function(){t.sendMessage("indicator:click",this.uid.split("-")[1])},u=0;u<r.length;u++){n=new we({uid:"indicator-"+(i=r[u]),container:this.settings.container,contents:e[i].contents,styles:ge(l[i],a),role:"alert",type:i});try{n.load()}catch(e){continue}n.hide(),n.click(c),o[i]=n}this.on({"frame:indicator:show":function(e){var t=o[e.type];t&&(t.document.getElementById("message").innerHTML=e.content,t.show())},"frame:indicator:hide":function(e){var t=e&&e.type,n=t&&o[t];if(n)n.hide();else if(!t)for(var i=0;i<r.length;i++)t=r[i],n=o[t],n&&n.hide()}})}},"frame:change:sort":function(e){Ee.storage.setItem("disqus.sort",e)},"frame:fail frame:rendered":function(){this.removeLoadingAnim(),this.setState("RUNNING")},"frame:fail":function(e){ye.logStat("failed_embed.server."+e.code)},"frame:rendered":function(){this.triggeredSlowEvent&&ye.logStat("rendered_embed.slow")},"frame:tracking:init":function(){var t=this;if(t.settings.isPrivate){var n=function(e,n){n&&(e.vendorConsents[469]&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]?(ye.logStat("cmp.consent"),t.frame.sendMessage("cmp.consent")):ye.logStat("cmp.no_consent"))};if(e.__cmp){ye.logStat("cmp.present"),e.__cmp("getVendorConsents",[469],n);try{e.__cmp("addEventListener","onSubmit",function(){e.__cmp("getVendorConsents",[469],n)})}catch(e){}}}}},onceEvents:{"frame:viglink:init":function(t){if(!(e.vglnk_self||e.vglnk||function(){for(var t in e)if(0===t.indexOf("skimlinks")||0===t.indexOf("skimwords"))return!0;return!1}())){var n=t.apiUrl,i=t.key,r=String(t.id);null!=t.clientUrl&&null!=n&&null!=i&&null!=t.id&&(DISQUS.vglnk={api_url:n,key:i,sub_id:r},e.vglnk_self="DISQUS.vglnk",me(t.clientUrl))}}},getFrameInitParams:function(e,t){var n=_e.prototype.getFrameInitParams.call(this,e,t);return n.experiment={experiment:this.settings.experimentName,variant:this.settings.experimentVariant,service:this.settings.experimentService},n.isBehindClick=this.isHeightRestricted()||!pe(t.elem),n.startedFullyVisible=!1,this.whenFullyVisible(function(){n.startedFullyVisible=!0,t.sendMessage("frame.visible",{})}),n.discovery=this.settings.discovery,n.isHostIframed=this.settings.isHostIframed,n.sandboxAds=this.settings.sandboxAds,n.canDisableAds=this.settings.canDisableAds,n.homeDiscoveryEnabled=this.settings.homeDiscoveryEnabled,n.inthreadMinimumCommentCount=this.settings.inthreadMinimumCommentCount,n.inthreadShowAfterComment=this.settings.inthreadShowAfterComment,n.inthreadPlacementUrl=this.settings.inthreadPlacementUrl,n.inthreadLeadingCommentCount=this.settings.inthreadLeadingCommentCount,n.inthreadRepeatCommentCount=this.settings.inthreadRepeatCommentCount,n.inthreadTrailingCommentCount=this.settings.inthreadTrailingCommentCount,n.inthreadCountChildren=this.settings.inthreadCountChildren,n.inthreadMultipleAds=this.settings.inthreadMultipleAds,this.settings.impressionId&&(n.impressionId=this.settings.impressionId),(this.settings.discoveryDisabled||this.settings.isHostIframed)&&(n.discoveryDisabled=!0),n},onBeforePostCreate:function(e){var t={text:e.raw_message};try{var n=this.settings.callbacks.beforeComment;if(n)for(var i=0;i<n.length;i++)t=n[i](t)}catch(e){Ce.log("Error processing Disqus callback: ",e.toString())}finally{this.frame.sendMessage("posts.beforeCreate.response",t&&t.text)}},destroyHome:function(){xe.destroy()},preloadHome:function(e){e.path="home/preload/";var t=this.home=xe.preload(this.getHomeData(e));this.listenToOnce(t,"frame:ready",function(){this.frame.sendMessage("home.ready")}),this.handleHomeTimeout(t)},handleHomeTimeout:function(e){this.listenTo(e,"timeout",function(){this.frame.sendMessage("home.timeout")})},showHome:function(e){var t=this.home=xe.show(this.getHomeData(e));this.listenToOnce(t,"frame:openReady",function(){this.frame.sendMessage("home.opened")}),this.handleHomeTimeout(t)},getHomeData:function(e){var t=this.settings;return e.language||(e.language=t.language),t.apiKey&&t.remoteAuthS3&&(e.sso={apiKey:t.apiKey,remoteAuthS3:t.remoteAuthS3}),e},forwardGlobalEvents:function(){var e=this;e.settings.windowName||(e.listenTo(Se,"window.resize",function(){e.frame.sendMessage("window.resize")}),e.listenTo(Se,"window.click",function(){e.frame.sendMessage("window.click")}),e.listenTo(Se,"window.mousemove",function(){e.frame.sendMessage("window.mousemove")}),e.listenTo(Se,"error",function(t){e.on("frame:rendered",function(){e.frame.sendMessage("error",t)})})),e.listenTo(Se,"window.hashchange",function(t){e.frame.sendMessage("window.hashchange",t.hash)})},bindPublisherCallbacks:function(){var e=this,t=e.settings,n=Te.LEGACY_EVENTS_MAPPING,i=t.callbacks;i&&fe(i,function(t,i){n[i]&&fe(t,function(t){e.on(n[i],t)})})},isContainerVisible:function(){var e=this.getViewportCoords(),t=be.getOffset(this.settings.container,this.getScrollContainer()),n=t.top+t.height-e.top;return n>0&&n<=e.height},pollFullyVisible:function(){var e=this;if(!e.pollingFullVisibility){e.pollingFullVisibility=!0;var t=e.isHeightRestricted(),n={};ve(function(){return e.frame&&e.frame.elem?!(t&&!e.rendered)&&pe(e.frame.elem)&&!e.isHeightRestricted({checkScrollHeight:!0}):n},function(t){t!==n&&(e.fullyVisible=!0,e.trigger("fullyVisible"))},e.constructor.VISIBILITY_POLL_INTERVAL)}},whenFullyVisible:function(e){this.pollFullyVisible(),this.fullyVisible?e():this.once("fullyVisible",e)},showSlowLoadingMessage:function(){var e,t=this;if(t.loadingElem){if(Ee.pageVisibility.isHidden())return e=function(){Ee.pageVisibility.stopListening(e),t.setSlowLoadingMessageTimer(2e3)},void Ee.pageVisibility.listen(e);t.triggeredSlowEvent=!0,t.state===t.constructor.states.READY?ye.logStat("slow_embed.got_ready"):t.state===t.constructor.states.LOADED?ye.logStat("slow_embed.loaded"):ye.logStat("slow_embed.no_ready"),t.loadingElem.firstChild.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>')}},clearSlowLoadingMessageTimer:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},setSlowLoadingMessageTimer:function(e){var t=this;t.clearSlowLoadingMessageTimer(),t.timeout=setTimeout(function(){t.showSlowLoadingMessage()},e)},addLoadingAnimOnContainerVisible:function(){var e,t=this;e=t.listenToScrollEvent(function(){var n=t.isContainerVisible();(n||t.state>=t.constructor.states.RUNNING)&&e(),n&&t.addLoadingAnim()})},addLoadingAnim:function(){var e,t,n,i=this,r=i.settings.container;if(i.loadingElem)return i.loadingElem;if(!(i.state>=i.constructor.states.RUNNING||this.settings.degraded)){e=he.createElement("div"),t=he.createElement("div"),n=he.createElement("div"),t.appendChild(n),e.appendChild(t),e.dir="ltr",e.style.overflow="hidden";var o="dark"===i.settings.colorScheme,s=t.style;s.height="52px",s.width="54px",s.margin="0 auto",s.overflow="hidden",s.position="relative",s.background="url(https://c.disquscdn.com/next/embed/assets/img/loader-bg.173909e4737a7481df14d5492b5eeb48.png) no-repeat",o&&(s.backgroundPosition="0 -52px");var a=o?"rgba(223, 228, 237, .4)":"rgba(51, 54, 58, .4)",l=n.style;s.boxSizing=l.boxSizing="border-box",l.height=l.width="26px",l.position="absolute",l.top="13px",l.left="15px",l.borderWidth="3px",l.borderStyle="solid",l.borderColor=a+" transparent",l.borderRadius="13px",l.transformOrigin="50% 50% 0px";var c="transform"in l?{js:"transform",css:"transform"}:{js:"webkitTransform",css:"-webkit-transform"};return l.transition=c.css+" 700s linear",setTimeout(function(){l[c.js]="rotate(360000deg)"},16),r.appendChild(e),i.loadingElem=e,ye.logStat("lounge.loading.view"),i.setSlowLoadingMessageTimer(15e3),i.loadingElem}},removeLoadingAnim:function(){var e=this.loadingElem,t=this.settings.container;this.clearSlowLoadingMessageTimer(),e&&e.parentNode===t&&(t.removeChild(e),this.loadingElem=null)},destroy:function(){var e=this.indicators;this.removeLoadingAnim(),e&&e.north&&(e.north.destroy(),e.north=null),e&&e.south&&(e.south.destroy(),e.south=null),_e.prototype.destroy.call(this)}},{LEGACY_EVENTS_MAPPING:{onReady:"frame:rendered",onNewComment:"posts.create",onPaginate:"posts.paginate",onCommentCountChange:"posts.count",onIdentify:"session.identify"},VISIBILITY_POLL_INTERVAL:500}),V={Lounge:function(e){return new Te(e)}},M=function(e,t,n){var i,r,o,s,a,l=function(){var c=(new Date).getTime()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=(new Date).getTime();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},U=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},B=function(e,t,n){for(var i=0;i<e.length;++i)if(t.call(n,e[i],i,e))return!0;return!1},de=function(e){return"[object Function]"===Object.prototype.toString.call(e)},q=function(e,t,n){var i=null===e||void 0===e?void 0:e[t];return void 0===i&&(i=n),de(i)?i.call(e):i},ce=function(e){return Boolean(e&&1===e.nodeType)},ue=E,(le=tn).getElement=function(e){return ce(e)?e:e&&e.el},le.EL_ID_ATTR="data-visibility-id",le.OBJ_ID_PROP="_visibility_id",le.getId=function(e){var t=null;return ce(e)?(t=e.getAttribute(le.EL_ID_ATTR)||null)||(t=ue(),e.setAttribute(le.EL_ID_ATTR,t)):e&&((t=e[le.OBJ_ID_PROP]||null)||(t=e[le.OBJ_ID_PROP]=ue())),t},le.visiblePercent=function(e,t){var n=0;if(!t)return n;var i=e.top,r=i+e.height,o=t.visibleTop<i,s=t.visibleBottom>r;return!o&&!s||o&&s?n=1:o?n=(t.height-(i-t.visibleTop))/t.height:s&&(n=(r-t.visibleTop)/t.height),Math.round(100*n)},te=U,ne=B,ie=_,re=q,oe=tn=le,(se=nn).events=[],se.lastPos=null,se.clearCache=function(e){if(e===t)se.getElementOffset.cache={};else{var n=oe.getId(e);n&&(se.getElementOffset.cache[n]=null)}},se.calculateOffset=function(t){if(!t)return null;if(!ie(t))return null;var n=t.ownerDocument.documentElement;return{height:t.offsetHeight,top:t.getBoundingClientRect().top+e.pageYOffset-(n.clientTop||0)}},se._getElementOffset=function(e){var t=oe.getElement(e);if(!t)return null;var n=se.calculateOffset(t);return n?{visibleTop:n.top+(re(e,"topEdgeOffset")||0),visibleBottom:n.top+n.height-(re(e,"bottomEdgeOffset")||0),offsetTop:n.top,height:n.height}:null},se.getElementOffset=((ae=function(e){var t=ae.cache,n=oe.getId(e);if(n&&t[n])return t[n];var i=se._getElementOffset(e);return n&&i&&(t[n]=i),i}).cache={},ae),se.EVENT_NAMES=["enter","exit","visible","invisible","all"],se.updateTracking=function(e){var n,i;ne(se.EVENT_NAMES,(i=e._events)?function(e){return i[e]}:function(){return t})?-1===(n=te(se.events,e))&&se.events.push(e):-1!==(n=te(se.events,e))&&se.events.splice(n,1)},se.processEvents=function(e){se.lastPos=e;var t=se.events;if(t.length)for(var n=t.length-1;n>=0;--n){var i=t[n],r=i.isVisible(e);null!==r&&(r!==i.lastVisible&&i.trigger(r?"enter":"exit",i,e),i.trigger(r?"visible":"invisible",i,e),i.lastVisible=r)}},j=function(t,n,i,r,o){function s(e){return this instanceof s?(this.obj=e,void(this.lastVisible=!1)):new s(e)}var a=M(function(){o.processEvents(o.lastPos)},250);return r(s.prototype,t,{on:function(e){var n=!(this._events&&this._events[e]),i=t.on.apply(this,arguments);return n&&o.updateTracking(this),a(),i},off:function(e){var n=t.off.apply(this,arguments);return this._events&&this._events[e]||o.updateTracking(this),n},offset:function(){return o.getElementOffset(this.obj)},isVisible:function(e){if(!(e=e||o.lastPos))return null;var t=e.top,n=t+e.height,i=this.offset();return!!i&&(i.offsetTop>=t&&i.visibleTop<n||i.offsetTop+i.height<=n&&i.visibleBottom>t)},invalidate:function(){return o.clearCache(this.obj),this}}),r(s,{invalidate:o.clearCache,scroll:o.processEvents,_windowScrollHandlerBound:!1,_ignoreCache:!1,_windowScrollHandler:i(function(){s._ignoreCache&&s.invalidate(),o.processEvents({top:e.pageYOffset,height:e.document.documentElement.clientHeight})},250),bindWindowEvents:function(t){this._windowScrollHandlerBound||(void 0!==t&&(s._ignoreCache=t),e.addEventListener("scroll",this._windowScrollHandler),e.addEventListener("resize",this._windowScrollHandler),this._windowScrollHandlerBound=!0,this._windowScrollHandler())},unbindWindowEvents:function(){s._ignoreCache=!1,e.removeEventListener("scroll",this._windowScrollHandler),e.removeEventListener("resize",this._windowScrollHandler),this._windowScrollHandlerBound=!1}}),s}(x,0,k,l,nn=se),rn=function(e,t){var n=null,i=!1;this.start=function(){i||(n=setTimeout(function(){i=!0,e()},t))},this.clear=function(){clearTimeout(n)}},F=function(){function e(e){if(e=Number(e),isNaN(e)||e>255)throw new Error("Color components should be numbers less than 256");return 1===(e=e.toString(16)).length?"0"+e:String(e)}return function(t){return"#"+e(t.red)+e(t.green)+e(t.blue)}}(),ee=["allow-forms","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts","allow-top-navigation"],W={getAttribute:function(e){return e?ee.reduce(function(t,n){return e[n]&&(t+=n+" "),t},"").trim():""}},Z=o,G=function(t){void 0===t&&(t=e.location.search);var n={};return Z(t.substr(1).split("&"),function(e){var t=e.split("=").map(function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))});t[0]&&(n[t[0]]=t[1])}),n},Q={},X=e.document.createElement("a"),Q.getOrigin=function(e){X.href=e;var t=X.href.split("/");return t[0]+"//"+t[2]},Q.getHostName=function(e){return X.href=e,X.hostname},Q.getDomainPart=function(e,t){return void 0===t&&(t=0),Q.getHostName(e).split(".").reverse()[t]},Q.getQuery=function(e){return X.href=e,X.search},Q.getPathname=function(e){return X.href=e,X.pathname},Y=Q,z={min:function(e){return Math.min.apply(Math,n(e))||0},max:function(e){return Math.max.apply(Math,n(e))||0},isNumeric:function(e){return null!==e&&!isNaN(Number(e))&&isFinite(e)}};var sn,an,ln,cn,un,dn,hn,fn,mn,gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();fn=z,(mn=function(){function e(){return i(this,e),1!==arguments.length||fn.isNumeric(arguments[0])?void this.fromArray(arguments):Array.isArray(arguments[0])?this.fromArray(arguments[0]):this.fromObject(arguments[0])}return gn(e,[{key:"fromArray",value:function(e){this.reset(),e.length>=6?(this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3],this.width=e[4],this.height=e[5]):e.length>=4?(this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=e[3]):3===e.length?(this.top=e[0],this.right=e[1],this.bottom=e[2],this.left=0):2===e.length?(this.top=e[0],this.right=e[1],this.bottom=e[0],this.left=e[1]):(this.top=e[0],this.right=e[0],this.bottom=e[0],this.left=e[0]),this.update()}},{key:"fromObject",value:function(e){return this.fromArray([e.top,e.right,e.bottom,e.left,e.width,e.height])}},{key:"update",value:function(){this.width||(this.width=this.right-this.left),this.height||(this.height=this.bottom-this.top)}},{key:"reset",value:function(e){e=e||0,this.top=e,this.right=e,this.bottom=e,this.left=e,this.width=e,this.height=e}},{key:"getArea",value:function(){return(this.right-this.left)*(this.bottom-this.top)}}]),e}()).getOverlapRect=function(e,t){var n=fn.max([e.left,t.left]),i=fn.min([e.left+e.width,t.left+t.width]),r=fn.max([e.top,t.top]),o=fn.min([e.top+e.height,t.top+t.height]);return i>=n&&o>=r&&new mn(r,i,o,n,i-n,o-r)},mn.getOverlapArea=function(e,t){return fn.max([0,fn.min([e.right,t.right])-fn.max([e.left,t.left])])*fn.max([0,fn.min([e.bottom,t.bottom])-fn.max([e.top,t.top])])},sn=mn,K={getParentNode:function(e){return e&&e.parentNode},getWindow:dn=function(t){var n=un(t),i=void 0;try{n&&(i=n.parentWindow||n.defaultView||e)}catch(t){i=e}return i},getScroll:ln=function(){return{x:e.pageXOffset,y:e.pageYOffset}},getRect:cn=function(e){var t=void 0;if(e&&e.style){var n=e.style.display;e.style.display="block",t=e.getBoundingClientRect(),e.style.display=n,t=new sn(t);var i=ln();t.left+=i.x,t.right+=i.x,t.top+=i.y,t.bottom+=i.y}else t=new sn(0);return t},getRectRelativeTo:function(e,t){var n=cn(e);if(t){var i=cn(t);n.top=i.top-i.top+t.scrollTop,n.bottom=n.top+n.height+t.scrollTop,n.left=n.left-i.left+t.scrollLeft,n.right=n.left+n.width+t.scrollLeft}return n},getViewportRect:function(){var t=ln(),n=t.y,i=t.x+e.innerWidth,r=t.y+e.innerHeight,o=t.x,s=e.innerWidth,a=e.innerHeight;return new sn(n,i,r,o,s,a)},getDocument:un=function(e){try{return 9===e.nodeType?e:e.ownerDocument}catch(e){return null}},getWindowRect:function(e){var t=dn(e),n=new sn(0,t.innerWidth,t.innerHeight,0,t.innerWidth,t.innerHeight),i=ln();return n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y,n},getRootNode:hn=function(e){var t=un(e);if(t)return t.documentElement||t.body},getRootRect:function(e){var t=hn(e)||{},n=new sn;return n.right=n.width=t.scrollWidth||0,n.bottom=n.height=t.scrollHeight||0,n},getNodeStyle:an=function(t,n){if(!t)return null;var i=e.document.defaultView.getComputedStyle(t);return n&&i.hasOwnProperty(n)?i[n]:i},isParentOf:function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},hasLayout:function(e){var t=an(e);return"inline-block"===t.display||"none"!==t.float||"absolute"===t.position||"fixed"===t.position||"auto"!==t.width||"auto"!==t.height},getNodeOverflow:function(e){var t=an(e),n={};return"scroll"===t.overflowX||"auto"===t.overflowX?n.xscroll=e.offsetWidth-e.clientWidth:n.xscroll=0,"scroll"===t.overflowY||"auto"===t.overflowY?n.yscroll=e.offsetHeight-e.clientHeight:n.yscroll=0,n.xhidden="hidden"===t.overflowX,n.yhidden="hidden"===t.overflowY,n},isNodeClipped:function(e){var t=an(e);return!!(t.clip&&"auto"!==t.clip||t.clipPath&&"none"!==t.clipPath)}};var pn,vn,yn,wn,bn,_n,Sn,Cn,En,xn,Tn,An,In,On,Ln,Nn,Hn,kn,Pn,Dn,Rn;gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Pn=K,Dn=z,Rn=function(){function t(e){i(this,t),this.node=e,this.document=Pn.getDocument(e),this.window=Pn.getWindow(e),this.root=Pn.getRootNode(e),this.ref=this.getRefNode(e.parentNode)}return gn(t,[{key:"getRefNode",value:function(e){for(;e&&1===e.nodeType;){var t=Pn.getNodeStyle(e);if(Pn.hasLayout(e)||"block"===t.display||"none"!==t.clear){var n=Pn.getNodeOverflow(e);if(n.xscroll||n.yscroll||n.xhidden||n.yhidden)return e;if(Pn.isNodeClipped(e))return e}e=e.parentNode}return this.root}},{key:"getNodesOver",value:function(t,n){n=n||1;var i=[],r=Pn.getRect(t),o=Pn.getRect(this.ref),s=Pn.getViewportRect(t);if(!e.document.elementFromPoint)return i;for(var a={top:Dn.max([r.top,o.top])-s.top,right:Dn.min([r.right,o.right])-s.left,bottom:Dn.min([r.bottom,o.bottom])-s.top,left:Dn.max([r.left,o.left])-s.left},l=(a.right-a.left)/10,c=(a.bottom-a.top)/10,u=a.left;u<a.right;u+=l)for(var d=a.top;d<a.bottom;d+=c){for(var h=e.document.elementFromPoint(u,d);h&&1===h.nodeType;){var f=Pn.getNodeStyle(h);if(Pn.hasLayout(h)||"block"===f.display||"none"!==f.clear)break;h=h.parentNode}h&&1===h.nodeType&&h!==this.node&&h!==this.root&&!Pn.isParentOf(h,this.node)&&(i.push(h),i.length>=n&&(u=a.right,d=a.bottom))}return i}},{key:"getWindowGeom",value:function(){var e=this.window.innerHeight||0,t=this.window.innerWidth||0,n=this.window.screenY||this.window.screenTop||0,i=n+e,r=this.window.screenX||this.window.screenLeft||0;return{t:n,r:r+t,b:i,l:r,w:t,h:e}}},{key:"getSelfGeom",value:function(){var e=Pn.getRect(this.node),t=Pn.getRect(this.ref),n=Pn.getNodeStyle(this.node),i=Pn.getWindowRect(this.node),r=e.width,o=e.height;this.ref!==this.root&&(r=Dn.max([0,Dn.min([e.right,t.right])-Dn.max([e.left,t.left])]),o=Dn.max([0,Dn.min([e.bottom,t.bottom])-Dn.max([e.top,t.top])]));var s=Dn.max([0,Dn.min(e.right,i.right)-Dn.max([e.left,i.left])]),a=Dn.max([0,Dn.min([e.bottom,i.bottom])-Dn.max([e.top,i.top])]),l=Dn.min([r,s]),c=Dn.min([o,a]),u=e.width?l/e.width:0,d=e.height?c/e.height:0,h=l*c/(e.width*e.height),f=this.getNodesOver(this.node,1);if(f.length){var m=Pn.getRect(f[0]),g=Dn.max([0,Dn.min([m.right,e.right])-Dn.max([m.left,e.left])]),p=Dn.max([0,Dn.min([m.bottom,e.bottom])-Dn.max([m.top,e.top])]);h=Dn.max([0,(l*c-g*p)/(e.width*e.height)])}var v=Pn.getScroll();return{t:e.top-v.y,r:e.right-v.x,b:e.bottom-v.y,l:e.left-v.x,z:n.zIndex,w:e.width,h:e.height,xiv:1===u?"1":Number(u).toFixed(2),yiv:1===d?"1":Number(d).toFixed(2),iv:1===h?"1":Number(h).toFixed(2)}}},{key:"getExpandGeom",value:function(){var e=Pn.getRect(this.ref),t=Pn.getRect(this.node),n=Pn.getWindowRect(this.node),i=Dn.max([e.top,n.top]),r=Dn.min([e.right,n.right]),o=Dn.min([e.bottom,n.bottom]),s=Dn.max([e.left,n.left]),a=Pn.getNodeOverflow(this.ref);return{t:Dn.max([0,t.top-i]),r:Dn.max([0,r-t.right]),b:Dn.max([0,o-t.bottom]),l:Dn.max([0,t.left-s]),xs:Boolean(a.yscroll),yx:Boolean(a.xscroll)}}},{key:"getGeom",value:function(){return{win:this.getWindowGeom(),self:this.getSelfGeom(),exp:this.getExpandGeom()}}}]),t}(),$={get:function(e){return new Rn(e).getGeom()}},pn=N,vn=P,yn=T,wn=j,bn=tn,_n=rn,Sn=F,Cn=l,En=W,xn=G,Tn=Qt,An=Y.getOrigin,In=Y.getQuery,On=c,Ln=A,Nn=$,Hn={adsnative:160465,prebid:160465,displayonly:160465,gravity:184723,taboola:184193,outbrain:185359,lq:160465},kn=vn.extend({name:"ads",origin:t,onceEvents:{"view:enter":function(){this._reportLegacy({verb:"view",adverb:"0ms-no50perc"})},"view:iab":function(){this._reportLegacy({verb:"view",adverb:"iab-scroll"})}},events:{"frame:ready":function(e){this.forumId=e.forumId,this._reportOnce({verb:"load",extra_data:e.extraData},"load"),this.bindViewEvents(),this.triggerGeomUpdate()},"frame:resize":function(e){this.frame.setInlineStyle("height",e.height+"px"),this.triggerGeomUpdate()},"frame:click":function(){this._reportOnce({verb:"click"},"click")},"frame:hover":function(){this._reportOnce({verb:"hover"},"hover")},"frame:error-provider-not-ready":function(){this._reportLegacy({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"provider_not_ready"})},"frame:error-no-height":function(){this._reportLegacy({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"no_height"})},"frame:clearSandbox":function(){this.frame.elem.hasAttribute("sandbox")&&this.frame.elem.removeAttribute("sandbox")},"frame:redirect":function(e){this.frame.elem.src=e},"frame:logAd":function(e){this._report(e,{usePOST:!0})},"frame:$sf-init":function(){this.isSafeframe=!0},"frame:error":function(e){this.postMessageDirect({event:"error",data:{error:e}})}},constructor:function(){vn.apply(this,arguments),this.origin=An(this.settings.adUrl),this._reportOnceHistory={}},init:function(){if(!this.settings.isHostIframed&&(this.settings.forum=xn(In(this.settings.adUrl)).shortname,this.settings.forum)){var t=this.settings.discovery,n=t&&(t.disable_all||t.disable_promoted);!(0===e.location.href.indexOf(pn.apps.home))&&n&&this.settings.canDisableAds||(this._reportOnce({verb:"call",object_type:"provider",object_id:this.getProvider(),adjective:1},"call"),this.settings.sandboxAds&&(this.sandbox=En.getAttribute({"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0,"allow-popups":!0})),vn.prototype.init.call(this))}},getProvider:function(){if(this._provider)return this._provider;var e=this.settings.adUrl.match(/provider=(\w+)/);return e&&(this._provider=e[1]),this._provider},getUrl:function(){var t=this.settings;return Tn(t.adUrl,{anchorColor:Sn(t.anchorColor),colorScheme:t.colorScheme,sourceUrl:e.document.location.href,typeface:t.typeface,canonicalUrl:t.canonicalUrl,disqus_version:t.version})},triggerGeomUpdate:function(){if(this.frame.elem&&this.isSafeframe){var e=Nn.get(this.frame.elem);this.postMessageDirect({event:"geom-update",data:{geom:e}})}},bindViewEvents:function(){if(!this._viewEventsBound){this._viewEventsBound=!0,wn.bindWindowEvents(!0);var e=this,t=function(t,n){e.postMessageDirect({event:t,percentViewable:n})},n=new _n(function(){e.trigger("view:iab"),t("view:iab")},1e3),i=!1;this.listenTo(wn({el:this.frame.elem}),{enter:function(){e.trigger("view:enter"),t("view:enter"),e.triggerGeomUpdate()},exit:function(){t("view:exit"),i&&(i=!1,t("view:50out"),n.clear()),e.triggerGeomUpdate()},visible:function(r,o){var s=bn.visiblePercent(o,r.offset());s>=50&&!i?(i=!0,t("view:50in"),n.start()):s<50&&i&&(i=!1,t("view:50out"),n.clear()),t("view",s),e.triggerGeomUpdate()}})}},postMessageDirect:function(e){this.frame.requiresWindow(function(e){var t=yn.stringify(Cn({},e,{space:"disqus"}));Ln.postMessage(this.window,t,this.origin),Ln.postMessage(this.window,"disqus."+e.event,this.origin)})(e)},_report:function(n){var i=arguments.length>1&&arguments[1]!==t?arguments[1]:{},r=this.settings,o=this.getProvider();n.forum_id=r.forumId||this.forumId;var s=i.usePOST?"reportJesterPOST":"reportJester";On[s](Cn({imp:r.impressionId,experiment:r.experimentName,variant:r.experimentVariant,service:r.experimentService,area:r.placement,product:"embed",forum:r.forum,zone:"thread",version:On.getLoaderVersionFromUrl("https://c.disquscdn.com/next/embed/lounge.load.5cfe3f3f7a9413ba555579f40a6f44c9.js"),page_url:e.document.location.href,page_referrer:e.document.referrer,object_type:"advertisement",provider:o,event:"activity"},n))},_reportLegacy:function(e){var t=this.settings,n=this.getProvider();this._report(Cn({advertisement_id:Hn[n],ad_product_name:"iab_display",ad_product_layout:"iab_display",bin:"embed:promoted_discovery:"+t.experimentService+":"+t.experimentName+":"+t.experimentVariant,object_id:"["+Hn[n]+"]",section:"default"},e))},_reportOnce:function(e,t){this._reportOnceHistory[t]||(this._reportLegacy(e),this._reportOnceHistory[t]=!0)},getFrameSettings:function(){var e=vn.prototype.getFrameSettings.call(this);return e.insertBeforeEl=this.settings.insertBeforeEl,e.insertAfterEl=this.settings.insertAfterEl,e}}),J={Ads:function(e){return new kn(e)}},on=function(n){var i=s,r=a,o=l,u=c,d=w.HostConfig,h=b,f=V,m=J,g=new d(e);n.configAdapter=g;var p=[],v=!1,y=r(e),_=n.removeDisqusLink=function(){var t=e.document;if(t.getElementsByClassName){if("complete"!==t.readyState)return e.addEventListener("load",_);var n=t.getElementsByClassName("dsq-brlink"),i=n&&n.length&&n[0];i&&i.parentNode.removeChild(i)}};n.VERSION="a1ddc74",n.loadEmbed=function(e){if(p.length)return E({reload:!0}),h.log("Use DISQUS.reset instead of reloading embed.js please."),void h.log("See https://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites");g.configurator=e;var t=g.toJSON();t.version=n.VERSION,v||(t.container.innerHTML="",v=!0),n.loadApps(t),n.removeDisqusLink()};var S=function(){for(var e;e=p.pop();)e.triggeredSlowEvent&&e.state!==e.constructor.states.RUNNING&&u.logStat("reset_embed.slow"),e.destroy()},C=function(t){S();var n=f.Lounge(o({},t,{discoveryDisabled:t.bottomPlacementUrl&&!t.homeDiscoveryEnabled,isHostIframed:y}));p.push(n),n.init();var i=function(e){n.whenFullyVisible(e)},r=function(e){return t.adBlockEnabled?e.replace(/\/(adsnative|prebid)/,"/taboola").replace(/\/\/tempest.disquss.com\//,"//disqusads.com/"):e};if(t.outsidePlacementUrl){var s=e.document.getElementById("disqus_ad");if(s){var a=m.Ads(o({adUrl:t.outsidePlacementUrl,placement:"outside"},t,{isHostIframed:y,container:s}));p.push(a),a.init()}}var l=null;if(t.topPlacementUrl&&(t.topPlacementUrl=r(t.topPlacementUrl),l=m.Ads(o({adUrl:t.topPlacementUrl,placement:"top"},t,{isHostIframed:y,insertBeforeEl:n.frame.elem})),p.push(l),i(function(){l.init()})),t.bottomPlacementUrl&&!t.homeDiscoveryEnabled){t.bottomPlacementUrl=r(t.bottomPlacementUrl);var c=m.Ads(o({adUrl:t.bottomPlacementUrl,placement:"bottom"},t,{isHostIframed:y,insertAfterEl:n.frame.elem}));p.push(c),i(function(){null===l?c.init():c.listenToOnce(l,"frame:ready",function(){c.init()})})}};n.loadApps=function(e){e.adBlockEnabled===t?i(function(t){e.adBlockEnabled=t,C(e)}):C(e)};var E=n.reset=function(e){e=e||{},S(),e.reload&&n.loadEmbed(e.config)};return n}(on),function(t){var n=e.document,i=e.DISQUS||{},r=Xt;i.reset||(i.reset=on.reset),i.request||(i.request={}),i.request.get||(i.request.get=function(e,t,n){r(e,t,n)}),i.host||(i.host={}),i.host._loadEmbed||(i.host._loadEmbed=on.loadEmbed),e.DISQUS=i;var o=n.createElement("link");o.rel="prefetch";try{o.relList.supports("preload")&&(o.rel="preload")}catch(e){}var s=function(e,t){var i=o.cloneNode();return i.as=t||"script",i.pr=1,i.href=e,n.head.appendChild(i),i};s("https://cdn.staticaly.com/gh/PemulungKode/Disqus/04b0e8dc/lounge.d49f53e192b9080ef8880a7c9b24f1c3.css","style"),s("https://c.disquscdn.com/next/embed/common.bundle.0462ab665ece3b7335428560f1a0517c.js"),s("https://c.disquscdn.com/next/embed/lounge.bundle.0687f63ad0515694420458c2bd48d53b.js"),s("https://disqus.com/next/config.js")}()}(this),this.DISQUS.host._loadEmbed();
